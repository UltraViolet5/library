<?xml version="1.0" encoding="utf-8"?>

<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModel="clr-namespace:library.ViewModel;assembly=library"
             x:Class="library.Pages.BookPage" x:DataType="viewModel:BookViewModel">
    <ContentPage.Content>
        <ScrollView>
            <StackLayout Padding="0">
                <Frame Margin="0" Padding="30" CornerRadius="0" BorderColor="White" HasShadow="False">
                    <StackLayout>
                        <!-- Photo -->
                        <Frame WidthRequest="150" HeightRequest="150" CornerRadius="25" Padding="0"
                               Margin="40,20" HasShadow="False" BorderColor="LightGray"
                               HorizontalOptions="Center">
                            <AbsoluteLayout>
                                <!-- TODO Add image and bind with user -->
                                <Label Text="picture" HorizontalTextAlignment="Center" VerticalOptions="Center"
                                       FontFamily="News701" FontSize="24" TextColor="LightGray"
                                       AbsoluteLayout.LayoutBounds="0.5,0.5"
                                       AbsoluteLayout.LayoutFlags="PositionProportional" />
                                <Image Source="plusfilled.png" WidthRequest="40" HeightRequest="40"
                                       AbsoluteLayout.LayoutBounds="0.9,0.9"
                                       AbsoluteLayout.LayoutFlags="PositionProportional" />
                            </AbsoluteLayout>
                        </Frame>

                        <!-- Content -->
                        <Label Text="{Binding Title}"
                               FontFamily="News701" FontSize="Large"/>
                        <Label Text="{Binding Authors}"
                               FontFamily="News701" FontSize="Medium" />
                        <StackLayout Orientation="Horizontal">
                            <Label Text="Owner:"
                                   FontFamily="News701" FontSize="14" />
                            <Label Text="{Binding Owner.UserName}"
                                   FontFamily="News701" FontSize="14" />
                        </StackLayout>
                        <StackLayout Orientation="Horizontal">
                            <Label Text="Placed at:"
                                   FontFamily="News701" FontSize="14" />
                            <Label Text="{Binding Bookcase.Name}"
                                   FontFamily="News701" FontSize="14" />
                        </StackLayout>
                        <StackLayout Orientation="Horizontal">
                            <CheckBox IsChecked="{Binding Read}"
                                      Color="Black" />
                            <Label Text="read" VerticalOptions="Center"
                                   FontFamily="News701" />
                        </StackLayout>
                        <StackLayout Orientation="Horizontal">
                            <CheckBox IsChecked="{Binding Available}"
                                      Color="Black" />
                            <Label Text="available" VerticalOptions="Center"
                                   FontFamily="News701" />
                        </StackLayout>

                        <!-- Category -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="4*"></ColumnDefinition>
                                <ColumnDefinition Width="6*"></ColumnDefinition>
                            </Grid.ColumnDefinitions>
                            <Label Text="Category" FontFamily="News701"  FontSize="18"
                                   Grid.Column="0" VerticalTextAlignment="Center"/>
                            <Frame Padding="0" CornerRadius="12" Margin="0,5"
                                   Grid.Column="1">
                                <Picker x:Name="Category" HorizontalOptions="FillAndExpand" Title="Category"
                                        FontFamily="News701" HorizontalTextAlignment="Center"
                                        ItemsSource="{Binding CategoriesList}"
                                        SelectedItem="{Binding CategoryString}">
                                </Picker>
                            </Frame>
                        </Grid>
                        
                        <Button CornerRadius="12" Margin="0,10" BackgroundColor="#e6e6e6"
                                Text="Save changes" FontFamily="News701"
                                Command="{Binding SaveChangesCommand}" />
                    </StackLayout>
                </Frame>
            </StackLayout>
        </ScrollView>
    </ContentPage.Content>
</ContentPage>