<?xml version="1.0" encoding="utf-8"?>

<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModel="clr-namespace:library.ViewModel;assembly=library"
             x:Class="library.Pages.BookPage" x:DataType="viewModel:BookViewModel">
    <ContentPage.Content>
        <ScrollView>
            <StackLayout Padding="0">
                <Frame Margin="0" Padding="30" CornerRadius="0" BorderColor="White" HasShadow="False">
                    <StackLayout>
                        <!-- Photo -->
                        <Frame WidthRequest="150" HeightRequest="150" CornerRadius="25" Padding="0"
                               Margin="40,20" HasShadow="True" BorderColor="LightGray"
                               HorizontalOptions="Center">
                            <AbsoluteLayout>
                                <Frame WidthRequest="150" HeightRequest="150" BorderColor="Aqua" Padding="0">
                                    <Image Source="picture.png" Scale="1" Aspect="Fill"></Image>
                                </Frame>
                                <Image Source="plusfilled.png" WidthRequest="40" HeightRequest="40"
                                       AbsoluteLayout.LayoutBounds="0.9,0.9"
                                       AbsoluteLayout.LayoutFlags="PositionProportional" />
                            </AbsoluteLayout>
                        </Frame>

                        <!-- Content -->
                        <Label Text="{Binding Title}"
                               FontFamily="News701" FontSize="Large" HorizontalTextAlignment="Center"/>
                        <Label Text="{Binding Authors}"
                               FontFamily="News701" FontSize="Medium"  HorizontalTextAlignment="Center"/>
                        <Line X1="0" X2="50" Y1="1" Y2="1" Stroke="black" StrokeThickness="1" StrokeLineCap="Round"
                              HorizontalOptions="CenterAndExpand"/>
                        <StackLayout Orientation="Horizontal" HorizontalOptions="CenterAndExpand">
                            <Label Text="Owner:"
                                   FontFamily="News701" FontSize="14" />
                            <Label Text="{Binding Owner.UserName}"
                                   FontFamily="News701" FontSize="14" />
                        </StackLayout>
                        <StackLayout Orientation="Horizontal" HorizontalOptions="CenterAndExpand">
                            <Label Text="Placed at:"
                                   FontFamily="News701" FontSize="14" />
                            <Label Text="{Binding Bookcase.Name}"
                                   FontFamily="News701" FontSize="14" />
                        </StackLayout>
                        <StackLayout Orientation="Horizontal" HorizontalOptions="CenterAndExpand">
                            <CheckBox IsChecked="{Binding Read}"
                                      Color="Black"/>
                            <Label Text="read" VerticalOptions="Center"
                                   FontFamily="News701" />
                        </StackLayout>
                        <StackLayout Orientation="Horizontal" HorizontalOptions="CenterAndExpand">
                            <CheckBox IsChecked="{Binding Available}"
                                      Color="Black" />
                            <Label Text="available" VerticalOptions="Center"
                                   FontFamily="News701" />
                        </StackLayout>

                        <!-- Category -->
                        <StackLayout Orientation="Horizontal" HorizontalOptions="CenterAndExpand">
                            <Label Text="Category: " FontFamily="News701"  FontSize="18"
                                   Grid.Column="0" VerticalTextAlignment="Center" HorizontalOptions="End"/>
                            <Frame Padding="0" CornerRadius="12" Margin="0,5"
                                   Grid.Column="1">
                                <Picker x:Name="Category" HorizontalOptions="FillAndExpand" Title="Category"
                                        FontFamily="News701" HorizontalTextAlignment="Center"
                                        ItemsSource="{Binding CategoriesList}"
                                        SelectedItem="{Binding CategoryString}"
                                        BackgroundColor="#e6e6e6" FontSize="Small" WidthRequest="150">
                                </Picker>
                            </Frame>
                        </StackLayout>
                        <Button CornerRadius="12" Margin="0,10" BackgroundColor="#e6e6e6"
                                Text="Save changes" FontFamily="News701"
                                Command="{Binding SaveChangesCommand}" />
                    </StackLayout>
                </Frame>
            </StackLayout>
        </ScrollView>
    </ContentPage.Content>
</ContentPage>